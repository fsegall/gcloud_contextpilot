# Production Environment Configuration
# Google Cloud Run with Pub/Sub and Firestore
# Set these as environment variables in Cloud Run deployment

# Environment
ENVIRONMENT=production

# Commits changes without human-in-the-loop
CONTEXTPILOT_AUTO_APPROVE_PROPOSALS=false

# Event Bus (pubsub for Google Cloud Pub/Sub)
EVENT_BUS_MODE=pubsub

# Database (Google Firestore)
FIRESTORE_ENABLED=true
REWARDS_MODE=firestore
FIRESTORE_CREDENTIALS_JSON=/path/to/firestore-service-account.json  # or inline JSON when exported

# GCP Project (REQUIRED for production)
GCP_PROJECT_ID=

# API Keys (set in Cloud Run environment variables)
GOOGLE_API_KEY=AIza
GEMINI_API_KEY=AIza
GCP_PROJECT_ID=

# GitHub Integration (for automated PR creation and Dev Agent)
# REQUIRED: GITHUB_REPO must be set in format: owner/repo (e.g., fsegall/google-context-pilot)
# REQUIRED: At least one of GITHUB_TOKEN or PERSONAL_GITHUB_TOKEN must be set
GITHUB_REPO=fsegall/gcloud_contextpilot
GITHUB_TOKEN=
PERSONAL_GITHUB_TOKEN=

# Sandbox (optional - for Dev Agent sandbox mode)
SANDBOX_ENABLED=true
SANDBOX_REPO_URL=https://github.com/fsegall/contextpilot-sandbox

# Codespaces (optional)
CODESPACES_ENABLED=true
CODESPACES_REPO=fsegall/contextpilot-sandbox
CODESPACES_MACHINE=basicLinux32gb

# Server (Cloud Run manages these)
HOST=0.0.0.0
PORT=8080

# Logging
LOG_LEVEL=INFO

# Workspace paths (Cloud Run)
WORKSPACE_PATH=/app/.contextpilot/workspaces

# Default workspace ID for production
# NOTE: In production, workspace_id should be determined by:
# 1. Request parameter (workspace_id query param)
# 2. Git repository context
# 3. Or fallback to this default
DEFAULT_WORKSPACE_ID=default




